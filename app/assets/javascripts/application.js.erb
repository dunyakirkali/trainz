// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or vendor/assets/javascripts of plugins, if any, can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// compiled file.
//
// Read Sprockets README (https://github.com/sstephenson/sprockets#sprockets-directives) for details
// about supported directives.
//
//= require jquery
//= require jquery.ui.all
//= require jquery_ujs
//= require chosen-jquery
//= require angular
//= require chosen
//= require slider
//= require d3
//= require buzz
//= require angular/app
//= require angular/controllers/trains_controller
//= require angular/services/audio
//= require angular/services/DKOverlay
//= require foundation

$(function() {
  $(document).foundation();

  $('body').append('<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>');
  var resizeTimer = false;
  var insertAdsenseAd = function() {
    $('.ads').html('<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7498782896502186" data-ad-slot="6899885355" data-ad-format="auto"></ins>');
    (adsbygoogle = window.adsbygoogle || []).push({});
  };

  insertAdsenseAd();

  $(window).on('resize', function() {
    if (resizeTimer) {
      clearTimeout(resizeTimer);
    }
    resizeTimer = setTimeout(insertAdsenseAd, 250);
  });
});
